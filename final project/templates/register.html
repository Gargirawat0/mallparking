{% extends "base.html" %}

{% block content %}
<section class="dashboard-section">
    <div class="container">
        <div class="booking-form animate">
            <h2 class="section-title">Create Account</h2>
            <form method="POST" action="{{ url_for('register') }}">
                <div class="form-group">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input type="tel" class="form-control" id="phone" name="phone" required placeholder="Enter your phone number">
                </div>
                
                <div class="form-group">
                    <label for="name" class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="name" name="name" required placeholder="Enter your full name">
                </div>
                
                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" name="password" required placeholder="Create a password">
                    <small class="text-muted">Password must contain at least 8 characters with uppercase, lowercase, number and special character</small>
                </div>
                
                <div class="form-group">
                    <label for="vehicle_number" class="form-label">Vehicle Number</label>
                    <input type="text" class="form-control" id="vehicle_number" name="vehicle_number" required placeholder="Enter your vehicle number">
                    <small class="text-muted">Format: DL01AB1234 or similar</small>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block">Register</button>
            </form>
            
            <p class="text-center mt-3">Already have an account? <a href="{{ url_for('login') }}">Login here</a></p>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Password validation
        const passwordInput = document.getElementById('password');
        passwordInput.addEventListener('input', function() {
            const password = this.value;
            const isValid = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(password);
            
            if (password && !isValid) {
                this.style.borderColor = 'var(--danger-color)';
            } else {
                this.style.borderColor = '';
            }
        });
        
        // Vehicle number validation
        const vehicleInput = document.getElementById('vehicle_number');
        vehicleInput.addEventListener('input', function() {
            const number = this.value;
            const isValid = /^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{1,4}$/.test(number);
            
            if (number && !isValid) {
                this.style.borderColor = 'var(--danger-color)';
            } else {
                this.style.borderColor = '';
            }
        });
    });
</script>
{% endblock %}